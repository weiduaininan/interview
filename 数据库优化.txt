数据库优化总结

数据库建表优化：
选取最适用的字段属性
char varchar 的选取
enum 枚举类型的使用
字段尽量设置 NOT NULL 
有时候可以增加一些冗余字段 合理的减少关联查询  但是维护起来会比较麻烦

数据库查询优化

开启慢查询日志 定位到该sql语句 
查看他对应的查询条数 
然后根据查询信息适当的添加索引 
然后使用explain查看有哪些索引 使用到了哪些索引
然后看为什么没有使用上索引
常见索引失效有：
like 前面%
or 其中有一个没有索引
关联字段 类型不一致
where字段类型不一致 比如字符串类型没有加引号
组合索引 最左原则
索引列出现计算

where  join on  group by  后字段使用索引

查询数据时 避免一次查询所有数据  少用 * 多用 limit 

某些时候 不用关联所有表一次查询出所有数据 拆分成几个小的查询可以有效的提高效率



数据量特别大的情况下

可以考虑分库分表

垂直分库：根据不同业务模块 进行分库 类似订单库 商品库 商家库

水平分库：根据某个逻辑拆分成多个库，根据某个逻辑来去对应数据库找数据

垂直分表：就是根据一张表数据 拆分成经常使用字段的一张表  不经常使用字段的一张表  一些大文本字段拆出来

水平分表：就是把一张数据表 根据某一种业务逻辑 
比如ID的单双 分成两个  用户名首字母 分成24个  
相同数据字段的表 然后根据对应的逻辑 找到该数据进行增删改查